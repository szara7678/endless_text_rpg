# 끝없는 텍스트 RPG - 구현 계획

## 📋 Phase 1: 핵심 게임플레이 완성

### 2. 탑 테마 로테이션 시스템
**목표**: 6개 테마(Flame/Frost/Toxic/Shadow/Thunder/Verdant) 순환
- **파일**: 
  - `src/utils/towerSystem.ts` (새로 생성)
  - `src/data/themes/index.json` 활용
- **기능**:
  - 층별 테마 결정 로직
  - 몬스터 풀 로테이션
  - 환경 효과 적용
  - 상성 보너스 계산
- **공식**: `n0 휴식(특별 상점) → n1-5 일반 → n6-8 정예 → n9 보스`

### 3. 스킬 시스템 완성
**목표**: Page 수집 → 스킬 습득 → 수련 → 레벨업
- **파일**:
  - `src/utils/skillSystem.ts` (새로 생성)
  - `stores/skillSlice.ts` 확장
- **기능**:
  - Page 3장으로 스킬 해금
  - 수련치 축적 (`cast`, `killWeak`, `perfect`)
  - AP + 골드로 레벨업
  - 발동률/효과량 상승
- **UI**: 스킬 상세 모달, 수련 진행도 표시

### 4. 장비 시스템 구현
**목표**: 장비 착용, 스탯 적용, 강화 시스템
- **파일**:
  - `src/utils/equipmentSystem.ts` (새로 생성)
  - `stores/inventorySlice.ts` 확장
- **기능**:
  - 장비 착용/해제
  - 스탯 재계산 자동화
  - 강화 시스템 (+1당 4% 상승)
  - 품질별 강화 상한
- **UI**: 장비 슬롯, 강화 인터페이스

## 📋 Phase 2: 생활 콘텐츠 구현

### 5. 생활 패널 기본 구조
**목표**: 7개 생활 스킬 UI 구성
- **파일**: `src/components/life/LifePanel.tsx` 확장
- **구성**:
  - 제작(Smithing) - 장비 제작
  - 연금술(Alchemy) - 포션 제작
  - 요리(Cooking) - 버프 음식
  - 낚시(Fishing) - 재료 획득
  - 농사(Farming) - 허브 재배
  - 채집(Herbalism) - 재료 수집
  - 광산(Mining) - 광물 채굴
- **공통**: 레벨, 경험치, 쿨다운 표시

### 6. 제작 시스템 구현
**목표**: 재료로 장비 제작, 품질 결정
- **파일**: `src/utils/craftingSystem.ts` (새로 생성)
- **공식**: `⌊(재료점수 R + SmithLv×1.5) × Q / K⌋`
- **기능**:
  - 재료 조합
  - 품질 미니게임 (슬롯/주사위)
  - 특성 슬롯 부여
  - 제작 애니메이션
- **품질**: Normal/Fine/Masterwork/Legendary

### 7. 미니게임 구현
**목표**: 각 생활 스킬별 미니게임
- **낚시**: 3-노트 리듬 게임
- **농사**: 실시간 성장 시스템
- **채집/광산**: 매칭/지뢰찾기 게임
- **공통**: Perfect 달성시 수련치 보너스

## 📋 Phase 3: 확장 시스템

### 8. 환생 시스템 구현
**목표**: 100층 이상에서 환생, AP 획득
- **파일**: `src/utils/ascensionSystem.ts` (새로 생성)
- **기능**:
  - 환생 조건 체크
  - AP 계산 및 지급
  - 영구 업그레이드 (스킬 레벨, 생활 버프)
  - 유물 시스템
- **UI**: 환생 확인 다이얼로그, AP 사용 인터페이스

### 9. 상점 시스템 구현
**목표**: Gold/Gem 2통화 상점
- **파일**: `src/components/shop/ShopPanel.tsx` 확장
- **상품**:
  - 소모품 (포션, 버프)
  - 재료팩 (시간 단축)
  - 부스터 (경험치, 드롭률)
  - Page 팩 (스킬 페이지)
- **기능**: 구매, 재고 관리, 갱신 타이머

### 10. QoL 기능 구현
**목표**: 편의성 기능들
- **오프라인 보상**: 4시간 상한, 50% 수익
- **설정 메뉴**: 소리, 진동, UI 커스터마이징
- **클라우드 저장**: Supabase 연동
- **PWA 최적화**: 서비스 워커, 매니페스트

## 🔄 구현 순서

1. **Phase 1-1**: FloatingActionButton 구현
2. **Phase 1-2**: towerSystem.ts 구현  
3. **Phase 1-3**: skillSystem.ts 구현
4. **Phase 1-4**: equipmentSystem.ts 구현
5. **Phase 2-1**: LifePanel 확장
6. **Phase 2-2**: craftingSystem.ts 구현
7. **Phase 2-3**: 미니게임들 구현
8. **Phase 3-1**: ascensionSystem.ts 구현
9. **Phase 3-2**: ShopPanel 확장
10. **Phase 3-3**: QoL 기능들 구현

## 📝 각 단계별 체크리스트

### Phase 1-2: 탑 테마 로테이션
- [ ] towerSystem.ts 생성
- [ ] 층별 테마 결정 함수
- [ ] 몬스터 풀 관리
- [ ] 환경 효과 적용
- [ ] 상성 보너스 계산
- [ ] 테스트 케이스 작성

(이하 각 단계별로 상세 체크리스트 계속...)

## 🎯 최종 목표

기획안의 모든 요소를 충실히 구현하여 "간단하지만 끝없이 깊은" 세로형 PWA RPG 완성 